<html>
    <head>
        <title>Axios</title>

        <!-- Axios -->
        <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>

        <script>
            function sendPost() {
                axios({
                    method: "post",
                    url: "http://localhost:8080/receive",
                    data: {
                        name: "codee"
                    }
                }).then((response) => {
                    // console.log(response);
                    return response.data;
                }).then((d) => {
                    alert(d.message);
                });
            }

            function sendGet() {
                axios({
                    method: "get",
                    url: "http://localhost:8080/receive",
                    params: {
                        name: "codee"
                    }
                }).then((response) => {
                    // console.log(response);
                    return response.data;
                }).then((d) => {
                    alert(d.message);
                });
            }
            
            function sendForm() {
                let form = document.getElementById("form_info");
                console.log(form);

                let result = form.checkValidity();
                // 전부 만족해야 true
                if ( !result ) {
                    form.reportValidity();
                    return false;
                }
                console.log(result);
                // form 태그에서는 input 태그에 id를 일일이 지정하지 않고 name 속성으로 가져올 수 있다.
                // form.name.value
                // console.log(form.name.value);
                // console.log(form.age.value);

                // axios({
                //     method: "post",
                //     url: "http://localhost:8080/receive",
                //     data: {
                //         name: form.name.value
                //     }
                // }).then((response) => {
                //     // console.log(response);
                //     return response.data;
                // }).then((d) => {
                //     alert(d.message);
                // });
            }
        </script>
    </head>
    <body>
        <button onclick="sendPost();">sendPost</button>
        <button onclick="sendGet();">sendGet</button>

        <form id="form_info">
            <input type="text" name="name" required>
            <input type="text" name="age" required>
            <button type="button" onclick="sendForm();">sendForm</button>
        </form>
    </body>
</html>